# 场景相机

相机篇
# 场景相机
场景相机指南
浅显为妙，如果彻底了解，就很难忠诚，因为了解越深入，就会越触到黑暗面。
场景相机用于实现复杂的相机运镜效果，通过配置多个步骤来实现相机的平移和旋转。
## 场景相机
  * 场景相机分为两个类型，一个是相对相机，也就是一切变换是相对于玩家自身坐标的变换。
  * 另一个是绝对相机，是跟着世界坐标去变化的。
  * 一般来说，相对相机是用来做技能这一类的内容，而绝对相机则是一些演绎的地方需要的。
  * 场景相机配置位于ArcartX根目录中的 `camera/scene` 目录下。你可以创建多个yml配置文件来定义不同的场景相机。


### 相对相机
  * 相对模式下，需要一个一个位置点手动写入，自己预想个大概的位置然后设定点位即可，后续在游戏内测试后精调即可完成。
  * 配置格式如下。


    
    # 0是相对坐标模式，该模式下允许移动，不允许鼠标滑动来变换相机角度，主要用于比如释放技能啥的需要完全控制视角的场景
    # 1是绝对坐标模式，该模式下不允许移动，不允许鼠标滑动来变换相机角度，主要用于演示场景
    mode: 0 # 模式id
    backTime: 1000 # 复位时间，如果是绝对模式，无复位过程而是直接回原位置
    step:
      step0:
        x: 0
        y: 1
        z: 3
        yaw: 90
        pitch: 0
        bezier: # 变换贝塞尔曲线
          x1: 0.1
          y1: 0.25
          x2: 0.1
          y2: 0.25
        transition: 800 # 变换时间
        keep: 800 # 持续时间
        ## 后续步骤继续向下写即可（如果存在多个步骤的变化的话）
场景相机配置中的步骤会按照从上到下的顺序依次执行。每个步骤的名称可以自定义，但建议使用有意义的名称以便于管理。
### 绝对相机
  * 绝对相机不推荐手写，因为我在测试的过程中发现，如果是相对坐标，只需要想个大概的偏移就完事了，而这个绝对坐标则需要在地图上一个坐标一个坐标的找位置然后写进配置。
  * 这个配置方式让我在测试过程中相当的痛苦，于是我在插件中加了个游戏内的编辑功能，这样我们可以快速的完成路径点的设置，最后再精调一些时间变化参数即可。
  * 首先我们使用指令`/a camera createSceneAbs`

![场景](https://wiki.arcartx.com/scene1.png)
  * 然后在每个路径点点击一下alt即可，游戏内会生成粒子来显示路径。

![场景](https://wiki.arcartx.com/scene2.png)
  * 红色是路径点的连线，蓝色是当前点的朝向位置。
  * 最后根据上面的提示，输入end [路径点名称]即可（注意是聊天方式发送而不是指令）
  * 最后我们可以在配置文件中看到生成的配置文件内容。再进行精细化的微调即可。


### 场景相机的使用
  * 场景相机你可以通过指令或者是API运行，这里我更推荐您使用脚本+ API，正如我前面所说的，不推荐过度依赖利用指令实现任何功能。
  * 场景相机ID为相机配置文件的名称（不包含后缀名），例如上面的配置文件名为`test.yml`，则ID为`test`。如果在子文件夹中，则需要使用斜杠分隔，例如`folder/test`。


[Previous预设相机](/docs/core/3_camera/2_preset)[Next全息基础数据](/docs/core/4_hologram/1_data)
