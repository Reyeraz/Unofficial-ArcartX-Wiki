# 玩家模型附加模型

玩家模型篇
# 玩家模型附加模型
玩家模型附加模型
孩子害怕黑暗，情有可原；人生真正的悲剧，是成人害怕光明。
## 玩家模型附加模型
### 说明
  * 玩家模型附加模型就是在玩家模型上额外渲染一个模型，利用API，通常可以用于实现饰品、时装、装备等功能。
  * 附加模型会执行和玩家模型相同的动作，比如玩家模型正在执行idle，那么附加模型也会执行idle，如果附加模型没有任何动作则啥也不会发生。
  * 附加模型渲染在玩家模型的定位器的位置上，比如您的玩家模型有chest_extra定位器，那么附加模型就会渲染在chest_extra定位器的位置上。
  * 玩家模型每个定位器可以添加一个附加模型。


### 渲染位置
  * 对于渲染位置可能有必要详细解释一下。
    * 附加模型渲染在目标模型的定位器上，如果这个定位器有父级骨骼，那么渲染出来的附加模型会继承这个父级骨骼的旋转角度。
    * 这就衍生出来两种附加模型的渲染形式，一种是独立的不依附于骨骼，一种是依附于骨骼的。
  * 下面针对这两种情况我们做个详细说明。


### 定位器依附于骨骼
  * 先说依附于骨骼的形式：
  * 比如我们有这样一个模型：

![额外模型](https://wiki.arcartx.com/extra4.jpg)
  * 这个模型我们希望它依附于目标模型的头部，所以我们将定位器创建在骨骼的下级。

![额外模型](https://wiki.arcartx.com/extra5.jpg)
  * 然后我们通过API将id为`hat`这个模型设置到我们设置的这个`hat_extra`定位器上,即可看到效果：

![额外模型](https://wiki.arcartx.com/extra6.jpg)
  * 这里我们再解释一下这个定位器和附加模型渲染位置的关系。
  * 我们看上面截图中的定位器并不是位于头顶，而是头的底部，因为模型是从底部开始渲染，所以定位器的位置也会在底部。
  * 如下图：

![额外模型](https://wiki.arcartx.com/extra7.jpg) ![额外模型](https://wiki.arcartx.com/extra8.jpg)
### 定位器不依附于骨骼
  * 再说不依附于骨骼的形式：
  * 不依附于骨骼的形式，说的直白一点就是，渲染完了玩家模型，再根据定位器的偏移，再渲染一个模型。
  * 比如我们有这样一个模型：

![额外模型](https://wiki.arcartx.com/extra2.jpg)
  * 这个模型具有主模型可能出现的所有动作：

![额外模型](https://wiki.arcartx.com/extra9.jpg)
  * 这个模型我们不需要它依附于主模型的任何骨骼，只需要在主模型渲染完成后，根据定位器偏移，再渲染这个附加模型。
  * 所以我们将定位器创建在骨骼外部。

![额外模型](https://wiki.arcartx.com/extra10.jpg)
  * 然后我们通过API将id为`chest`这个模型设置到我们设置的这个`chest_extra`定位器上,即可看到效果：

![额外模型](https://wiki.arcartx.com/extra3.jpg)
[Previous尝试编写一个Tooltips](/docs/core/9_tip/2_try)[Next玩家模型控制器](/docs/core/10_controller/2_controller)
