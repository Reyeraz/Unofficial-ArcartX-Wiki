# ArcartX UI 六种常用控件教学

## 一、Text（文字控件）
用于显示文本内容，支持颜色代码和排版设置。

### 基础配置
```yaml
text_example:
  type: Text
  attribute:
    texts: ~&7这是一段示例文字  # 支持原版颜色代码
    # texts: "&7这是一段示例文字" # 也可以使用,但是不推荐
    # texts: var.一个字符串变量 # 也可以使用
    # texts: ~§#FF0000这是红色文字  # 支持HEX颜色代码
    fontSize: 24  # 字体大小
    x: 100        # X坐标（相对父组件）
    y: 50         # Y坐标（相对父组件）
    shadow: true  # 是否显示文字阴影
    center: true  # 是否居中对齐
    lineSpace: 16 # 行间距
```

### 关键属性
- `texts`：文本内容，开头加`~`表示纯文字, 也可以使用变量, 或者双引号的字符串字面量
- `right`: 右对齐
- `fontSize`：字体大小（默认16）
- `shadow`：文字阴影（默认false）
- `center`：是否居中（默认false）
- `lineSpace`：行间距（默认16）

## 二、Texture（纹理控件）
用于显示图片或色块，支持鼠标悬停效果。

### 基础配置
```yaml
texture_example:
  type: Texture
  attribute:
    width: 200    # 宽度
    height: 100   # 高度
    x: 50         # X坐标
    y: 50         # Y坐标
    normal: ~textures/background.png  # 常态显示的图片
    hover: ~textures/background_hover.png  # 鼠标悬停时显示的图片
    # 也可以直接显示色块，如: normal: ~255,255,255（白色）, 和text一样,也可以使用字符串字面量(这个不推荐)
    # 或者使用 变量
    point: ~top_left  # 锚点位置
```

### 关键属性
- `normal`：常态显示内容（图片路径或RGB颜色）
- `hover`：鼠标悬停时显示的内容
- `width`/`height`：控件尺寸
- `point`：锚点位置（参考公共属性中的锚点类型）

## 三、HStack（横向布局控件）
用于将子控件横向排列，适合创建工具栏、快捷栏等。
不支持使用 point 属性进行布局, 包括接下来的 Hgrid, Vstack, Vgrid 都不支持,需要你自己编写算法进行支持

### 基础配置
```yaml
hstack_example:
  type: HStack
  attribute:
    x: 100          # 布局起始X坐标
    y: 500          # 布局起始Y坐标
    spaceBetween: 20  # 子控件之间的间距
    maxSize: 8      # 最大子控件数量
  children:
    button1:
      type: Texture
      attribute:
        width: 50
        height: 50
        normal: ~textures/button.png
    button2:
      type: Texture
      attribute:
        width: 50
        height: 50
        normal: ~textures/button.png
```

### 关键属性
- `spaceBetween`：子控件水平间距（默认0）
- `maxSize`：最大子控件数量（默认64）
- 子控件会按添加顺序从左到右排列
### 使用技巧
- 以下技巧适用于四个网格布局控件
- 
## 四、HGrid（横向网格布局控件）
按指定列数横向排列子控件，适合创建背包格子等。

### 基础配置
```yaml
hgrid_example:
  type: HGrid
  attribute:
    x: 200          # 网格起始X坐标
    y: 100          # 网格起始Y坐标
    spaceBetweenX: 10  # X方向间距
    spaceBetweenY: 10  # Y方向间距
    column: 9       # 列数
  children:
    slot0:
      type: Slot
      attribute:
        width: 80
        height: 80
        normal: ~textures/slot.png
  action:
    create: |-
      # 复制创建26个槽位
      for(i in range(1,26)){
        slot = self['slot0'].copy('slot' + i)
        slot.id = 9 + i
      }
```

### 关键属性
- `column`：列数（默认1）
- `spaceBetweenX`：水平间距（默认0）
- `spaceBetweenY`：垂直间距（默认0）
- 常用`create`触发器批量创建子控件

## 五、VStack（竖向布局控件）
用于将子控件纵向排列，适合创建列表、菜单等。

### 基础配置
```yaml
vstack_example:
  type: VStack
  attribute:
    x: 800          # 布局起始X坐标
    y: 200          # 布局起始Y坐标
    spaceBetween: 15  # 子控件之间的间距
  children:
    item1:
      type: Text
      attribute:
        texts: ~选项1
        fontSize: 20
    item2:
      type: Text
      attribute:
        texts: ~选项2
        fontSize: 20
    item3:
      type: Text
      attribute:
        texts: ~选项3
        fontSize: 20
```

### 关键属性
- `spaceBetween`：子控件垂直间距（默认0）
- `maxSize`：最大子控件数量（默认64）
- 子控件会按添加顺序从上到下排列

## 六、VGrid（纵向网格布局控件）
按指定行数纵向排列子控件，适合创建垂直方向的网格布局。

### 基础配置
```yaml
vgrid_example:
  type: VGrid
  attribute:
    x: 1000         # 网格起始X坐标
    y: 100          # 网格起始Y坐标
    spaceBetweenX: 10  # X方向间距
    spaceBetweenY: 10  # Y方向间距
    row: 3          # 行数
  children:
    icon0:
      type: Texture
      attribute:
        width: 60
        height: 60
        normal: ~textures/icon.png
  action:
    create: |-
      # 复制创建8个图标
      for(i in range(1,9)){
        icon = self['icon0'].copy('icon' + i)
      }
```

### 关键属性
- `row`：行数（默认1）
- `spaceBetweenX`：水平间距（默认0）
- `spaceBetweenY`：垂直间距（默认0）
- 子控件会按添加顺序先填满行再换行

## 七、Slot（槽位控件）
用于显示物品格子，支持物品交互和渲染效果。
注意, 不支持透明度
### 基础配置
```yaml
slot_example:
  type: Slot
  attribute:
    width: 80       # 槽位宽度
    height: 80      # 槽位高度
    x: 300          # X坐标
    y: 200          # Y坐标
    normal: ~textures/slot_normal.png  # 常态纹理
    hover: ~textures/slot_hover.png    # 悬停纹理
    id: 9           # 槽位ID（数字或字符串）
    slotType: ~Backpack  # 槽位类型（Backpack/Container/Extra）
    itemScale: 0.8   # 物品缩放比例
    lock: false      # 是否锁定点击
    # itemEffect: effect_name  # 物品额外渲染效果
```

### 关键属性
- `id`：槽位ID（容器和背包槽位用数字，自定义槽位用字符串）
- `slotType`：槽位类型（Backpack/Container/Extra）
- `normal`/`hover`：槽位纹理, 和Texture一样, 支持RGB颜色
- `itemScale`：物品缩放比例（默认1.0）
- `lock`：是否锁定点击（默认false）
### 使用技巧
- 可以将ItemScale缩小为0, 可以充当箱子菜单中的按钮
- 可以将其的可见度视为0, 然后添加一个val, 使得其他控件可以从其中提取指定槽位的信息
- 如果长宽不一致, 物品实体会被拉长, 所以一般背景图和物品实体图长宽不一致时,使用Slot充当Texture的子控件,然后Slot无背景图, Texture使用背景图, 再使用一个三元表达式检测Slot的hover情况

## 通用使用技巧
1. **父子关系**：子控件的位置相对于父控件，可通过`children`嵌套
2. **锚点设置**：合理使用`point`属性（如`~middle_center`居中）可简化布局
3. **批量创建**：利用`create`触发器和循环语句批量生成相似控件
4. **属性继承**：子控件会继承父控件的部分属性（如缩放、可见性）